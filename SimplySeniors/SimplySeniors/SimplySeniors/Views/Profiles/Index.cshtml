@model IEnumerable<SimplySeniors.Models.Profile>

@{
    ViewBag.Title = "Search Profiles";
}

<h1 id="searchHeader">Search for members of the community</h1>
<br />
@using (Html.BeginForm("Index", "Profiles", FormMethod.Post))
{
    <div class="container-fluid" style="font-size:large;" id="searchBox">
        Enter your search here:
        @Html.TextBox("searchString", null, new { style = "width: 4000px; height: 30px;", placeholder = "   partial matches will be found" })
        <input type="submit" id="searchBoxID" value="Search Now" />
    </div>
    <br />

    if (Model != null)
    {
        if (Model.Count() != 0) // checking to make sure that there are items in the model.
        {

            <table class="table table-striped table-dark" id="resultsTable">
                <tr>
                    <th>@Html.Label("Person's Name")</th>
                    <th>@Html.Label("Location")</th>
                    <th> </th>
                    <th>@Html.Label(" Details Below")</th>
                </tr>

                @foreach (var item in Model) // Iterate through all items in the model to produce search results.
                {
                    <tr>

                        <td>

                            @Html.DisplayFor(modelItem => item.FIRSTNAME)
                            @Html.DisplayFor(modelItem => item.LASTNAME)
                        </td>
                        <td>@Html.DisplayFor(modelItem => item.LOCATION)</td>
                        <td>
                        <td>
                            @Html.ActionLink("Details", "Details", new { id = item.ID })
                        </td>
                    </tr>
                }
            </table>
        }
        else
        {
            <div id="searchAgain">
                @Html.ActionLink("Start a new search", "Index")
            </div>
            <div class="container">
                <h2>We're sorry, the name you searched for was not found, please try again.</h2>
            </div>

        }

    }

}
